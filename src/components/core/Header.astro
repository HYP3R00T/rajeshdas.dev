---
interface NavItem {
  href: string;
  label: string;
  special?: boolean;
}

const pathname = new URL(Astro.request.url).pathname;
const currentPath = pathname.slice(1);

const navItems: NavItem[] = [
  { href: "/about", label: "About" },
  { href: "/post", label: "Posts" },
  { href: "/project", label: "Projects" },
  { href: "/contact", label: "Ping Me", special: true },
];
---

<header
  class="bg-background sticky top-0 z-50 mx-auto flex w-full flex-row items-center justify-between px-8 py-8"
>
  <!-- Logo -->
  <div class="flex">
    <a href="/" class="flex h-12 w-32 items-center justify-center">
      <h1 class="text-2xl">Logo</h1>
    </a>
  </div>

  <!-- Navigation -->
  <nav class="gator bg-content flex w-auto flex-row justify-center">
    {
      navItems.map((item) => (
        <div
          class={`group flex h-full w-auto items-center justify-center ${
            item.special
              ? ""
              : "border-border border-r nth-last-[2]:border-none"
          }`}
        >
          <a
            href={item.href}
            class={`flex h-full w-full items-center justify-center px-6 py-3 font-medium ${
              item.special
                ? "bg-cyan text-background group-hover:bg-cyan/90"
                : `${
                    currentPath.startsWith(item.href.slice(1))
                      ? "bg-elevated"
                      : "bg-content"
                  } text-text-default group-hover:bg-elevated`
            } `}
          >
            {item.label}
          </a>
        </div>
      ))
    }
  </nav>
</header>
