---
// Contact Section Component
// Displays contact form and contact information with social links
import { Icon } from "astro-icon/components";
---

<section class="stripe-pattern relative bg-black px-6 py-32 md:px-12">
  <div class="mx-auto max-w-350">
    <div class="mb-20">
      <div class="text-section-label mb-4">Get In Touch</div>
      <h2 class="text-section-heading mb-8 text-white">
        LET'S WORK<br />TOGETHER
      </h2>
      <p
        class="max-w-2xl text-sm tracking-wide text-white/60 uppercase md:text-base"
      >
        Open to DevOps consulting, infrastructure projects, and automation
        opportunities
      </p>
    </div>

    <div class="grid gap-16 lg:grid-cols-2">
      {/* Contact Form */}
      <form class="space-y-8">
        <div>
          <label for="name" class="text-section-label mb-3 block"> Name </label>
          <input
            type="text"
            id="name"
            name="name"
            class="w-full border border-white/20 bg-transparent px-4 py-4 text-sm text-white transition-colors placeholder:text-white/30 focus:border-white focus:outline-none"
            placeholder="Your name"
            required
          />
        </div>

        <div>
          <label for="email" class="text-section-label mb-3 block">
            Email
          </label>
          <input
            type="email"
            id="email"
            name="email"
            class="w-full border border-white/20 bg-transparent px-4 py-4 text-sm text-white transition-colors placeholder:text-white/30 focus:border-white focus:outline-none"
            placeholder="you@example.com"
            required
          />
        </div>

        <div>
          <label for="message" class="text-section-label mb-3 block">
            Message
          </label>
          <textarea
            id="message"
            name="message"
            rows={6}
            class="w-full resize-none border border-white/20 bg-transparent px-4 py-4 text-sm text-white transition-colors placeholder:text-white/30 focus:border-white focus:outline-none"
            placeholder="Tell me about your project..."
            required></textarea>
        </div>

        <button
          type="submit"
          class="w-full border border-white bg-white px-8 py-4 text-xs font-medium tracking-wider text-black uppercase transition-colors hover:bg-black hover:text-white"
        >
          Send Message
        </button>
      </form>

      {/* Contact Info */}
      <div class="space-y-12">
        {/* Email */}
        <div class="border border-white/10 p-8">
          <div class="text-section-label mb-4">Email</div>
          <a
            href="mailto:hello@rajeshdas.dev"
            class="text-xl break-all text-white transition-colors hover:text-white/70"
          >
            hello@rajeshdas.dev
          </a>
        </div>

        {/* Social Links */}
        <div class="border border-white/10 p-8">
          <div class="text-section-label mb-6">Connect</div>
          <div class="grid grid-cols-2 gap-4">
            {/* GitHub */}
            <a
              href="https://github.com/HYP3R00T"
              target="_blank"
              rel="noopener noreferrer"
              class="border border-white/20 p-4 transition-colors hover:bg-white hover:text-black"
              title="GitHub"
            >
              <Icon name="github" class="h-6 w-6" />
            </a>

            {/* LinkedIn */}
            <a
              href="https://linkedin.com/in/hyp3r00t"
              target="_blank"
              rel="noopener noreferrer"
              class="border border-white/20 p-4 transition-colors hover:bg-white hover:text-black"
              title="LinkedIn"
            >
              <Icon name="linkedin" class="h-6 w-6" />
            </a>

            {/* Twitter */}
            <a
              href="https://twitter.com/HYP3R00T"
              target="_blank"
              rel="noopener noreferrer"
              class="border border-white/20 p-4 transition-colors hover:bg-white hover:text-black"
              title="Twitter"
            >
              <Icon name="x" class="h-6 w-6" />
            </a>

            {/* Email */}
            <a
              href="mailto:hello@rajeshdas.dev"
              class="border border-white/20 p-4 transition-colors hover:bg-white hover:text-black"
              title="Email"
            >
              <Icon name="mail" class="h-6 w-6" />
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // Form submission handler
  const form = document.querySelector("form");
  if (form) {
    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const formData = new FormData(form);
      const data = {
        name: formData.get("name"),
        email: formData.get("email"),
        message: formData.get("message"),
      };

      // Log form data (in production, would send to API or email service)
      console.log("Form submission:", data);

      // Show success message
      const button = form.querySelector('button[type="submit"]');
      if (button) {
        const originalText = button.textContent;
        button.textContent = "Message Sent!";
        (button as HTMLElement).style.backgroundColor = "transparent";
        (button as HTMLElement).style.color = "white";

        // Reset form
        form.reset();

        // Reset button after 3 seconds
        setTimeout(() => {
          button.textContent = originalText;
          (button as HTMLElement).style.backgroundColor = "white";
          (button as HTMLElement).style.color = "black";
        }, 3000);
      }
    });
  }
</script>
