---
import { Icon } from "astro-icon/components";

interface Props {
  title: string;
  provider: string;
  providerLogo?: string;
  badgeImage?: string;
  date: string;
  credlyBadgeUrl?: string;
  certificateUrl: string;
}

const {
  title,
  provider,
  providerLogo,
  badgeImage,
  date,
  credlyBadgeUrl,
  certificateUrl,
} = Astro.props;
---

<div class="box-tr-sm bg-content group p-5 transition-all hover:scale-[1.02]">
  <div class="flex flex-col gap-4">
    {/* Badge and Provider Logo */}
    <div class="flex items-start justify-between gap-3">
      {
        badgeImage && (
          <a
            href={credlyBadgeUrl || certificateUrl}
            target="_blank"
            rel="noopener noreferrer"
            class="shrink-0"
          >
            <img
              src={badgeImage}
              alt={title}
              class="h-20 w-20 object-contain transition-transform group-hover:scale-105"
            />
          </a>
        )
      }
      {
        providerLogo && (
          <img
            src={providerLogo}
            alt={provider}
            class="h-6 w-auto object-contain opacity-60"
          />
        )
      }
    </div>

    {/* Certification Details */}
    <div class="flex-1">
      <h4 class="text-text-default text-base leading-tight font-semibold">
        {title}
      </h4>
      <p class="text-text-subtle mt-1 text-xs">
        {provider} â€¢ {date}
      </p>
    </div>

    {/* Links */}
    <div class="border-border flex flex-wrap gap-3 border-t pt-2">
      <a
        href={certificateUrl}
        target="_blank"
        rel="noopener noreferrer"
        class="text-cyan inline-flex items-center gap-1.5 text-sm font-medium hover:underline"
      >
        <Icon name="external-link" class="h-4 w-4" />
        View Certificate
      </a>
      {
        credlyBadgeUrl && (
          <a
            href={credlyBadgeUrl}
            target="_blank"
            rel="noopener noreferrer"
            class="text-text-subtle hover:text-cyan inline-flex items-center gap-1.5 text-sm hover:underline"
          >
            <Icon name="github" class="h-4 w-4" />
            Credly Badge
          </a>
        )
      }
    </div>
  </div>
</div>
