---
import type { HTMLAttributes } from "astro/types";

type IconBoxVariant = "default" | "strong" | "hoverable";
type IconBoxSize = "sm" | "default" | "lg";

interface IconBoxProps extends HTMLAttributes<"div"> {
  variant?: IconBoxVariant;
  size?: IconBoxSize;
  class?: string;
}

const {
  variant = "default",
  size = "default",
  class: className,
  ...rest
} = Astro.props as IconBoxProps;

const sizeClasses: Record<IconBoxSize, string> = {
  sm: "h-8 w-8",
  default: "h-12 w-12",
  lg: "h-16 w-16",
};

const variantClasses: Record<IconBoxVariant, string> = {
  default: "border border-border-stronger",
  strong: "border border-border-strong",
  hoverable:
    "border border-border-strong hover:bg-background-hover transition-colors",
};

const baseClasses = "flex shrink-0 items-center justify-center";

const classes = [
  baseClasses,
  sizeClasses[size] ?? sizeClasses.default,
  variantClasses[variant] ?? variantClasses.default,
  className?.trim(),
]
  .filter(Boolean)
  .join(" ");
---

<div class={classes} {...rest}>
  <slot />
</div>
